<!DOCTYPE html>
<html lang="pt-br">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		
		<link rel="stylesheet"
		href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
		integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2"
		crossorigin="anonymous">
		
		<link rel="preconnect" href="https://fonts.gstatic.com">
		
		<link href="https://fonts.googleapis.com/css2?family=Handlee&display=swap" rel="stylesheet">
		
		<title>Formulário de Cadastro de Conta</title>
	</head>
	
	<body>
		<div class="container">
			<!-- <div class="card mt-3"> -->
				<form th:object="${aberturaContaForm}" th:action="@{/formulario/novaConta}" method="post" class="card-body">
					<!-- <div class="form-group">
						<label for="nome">Nome do Titular: </label>
						<input th:field="*{nome}" th:errorClass="is-invalid" class="form-control" type="text" required="required" 
							oninput="mascaraNomeTitular(this)" placeholder="Nome do Titular" />
						<div class="invalid-feedback" th:errors="*{nome}">
							Erros do nome do titular
						</div>
					</div> -->
					<div class="form-group">
						<label for="nome">Nome do Titular: </label>
						<input th:field="*{nome}" th:errorClass="is-invalid" class="form-control" type="text"  
							oninput="mascaraNomeTitular(this)" placeholder="Nome do Titular" />
						<div class="invalid-feedback" th:errors="*{nome}">
							Erros do nome do titular
						</div>
					</div>
					
					<!-- <div class="form-group">
						<label for="email">E-mail: </label>
						<input th:field="*{email}" th:errorClass="is-invalid" class="form-control" type="email" required="required" placeholder="E-mail" />
						<div class="invalid-feedback" th:errors="*{email}">
							Erros do e-mail do titular
						</div>
					</div> -->
					<div class="form-group">
						<label for="email">E-mail: </label>
						<input th:field="*{email}" th:errorClass="is-invalid" class="form-control" type="email" placeholder="E-mail" />
						<div class="invalid-feedback" th:errors="*{email}">
							Erros do e-mail do titular
						</div>
					</div>
					
					<!-- <div class="form-group">
						<label for="cpf">CPF: </label>
						<input th:field="*{cpf}" th:errorClass="is-invalid" class="form-control" type="text" required="required" oninput="mascaraCpf(this)"
							placeholder="CPF" />
						<div class="invalid-feedback" th:errors="*{cpf}">
							Erros do CPF do titular
						</div>
					</div> -->
					<div class="form-group">
						<label for="cpf">CPF: </label>
						<input th:field="*{cpf}" th:errorClass="is-invalid" class="form-control" type="text" oninput="mascaraCpf(this)"
							placeholder="CPF" />
						<div class="invalid-feedback" th:errors="*{cpf}">
							Erros do CPF do titular
						</div>
					</div>
					
					<!-- <div class="form-group">
						<label for="dataNascimento">Data de Nascimento: </label>
						<input th:field="*{dataNascimento}" th:errorClass="is-invalid" class="form-control" type="date" required="required" 
							placeholder="Data de Nascimento" />
						<div class="invalid-feedback" th:errors="*{dataNascimento}">
							Erros da Data de Nascimento
						</div>
					</div> -->
					<div class="form-group">
						<label for="dataNascimento">Data de Nascimento: </label>
						<input th:field="*{dataNascimento}" th:errorClass="is-invalid" class="form-control" type="text" maxlength="10"
							onkeypress="mascaraData( this, event )" placeholder="Data de Nascimento" />
						<div class="invalid-feedback" th:errors="*{dataNascimento}">
							Erros da Data de Nascimento
						</div>
					</div>
					
					<button class="btn btn-primary" type="submit">Cadastrar</button>
				</form>
			<!-- </div> -->
		</div>
		
		<script>
			function mascaraNomeTitular(i){
			   var v = i.value;
			   
			   //impede entrar outro caractere que não seja número no primeiro caractere
			   if(v == " ") {
			      i.value = v.substring(0, v.length-1);
			      return;
			   }
			   
			   if (v.charAt(0) == " ") {
				  i.value = i.value.trim();
			   }
			}
		
			function mascaraCpf(i){
			   
			   var v = i.value;
			   
			   //impede entrar outro caractere que não seja número no primeiro caractere
			   if(isNaN(v[v.length-1]) || v == " ") {
			      i.value = v.substring(0, v.length-1);
			      return;
			   }
			   
			   i.setAttribute("maxlength", "14");
			   
			   if (v[v.length-1] == " ") {
				   i.value = v.substring(0, v.length-1);
				   return;
			   }
			   
			   if (v.length == 3 || v.length == 7) i.value += ".";
			   
			   if (v.length == 11) i.value += "-";
			}
			
			function mascaraData( campo, e )
			{
				var kC = (document.all) ? event.keyCode : e.keyCode;
				var data = campo.value;
				
				if( kC!=8 && kC!=46 )
				{
					if( data.length==2 )
					{
						campo.value = data += '/';
					}
					else if( data.length==5 )
					{
						campo.value = data += '/';
					}
					else
						campo.value = data;
				}
			}
		</script>
		<script src="https://rawgit.com/Lautert/helpers/master/javascript.helpers.js"></script>
	</body>
</html>